{"version":3,"file":"chartjs-adapter-luxon.min.js","sources":["../src/index.js"],"sourcesContent":["import {_adapters} from 'chart.js';\nimport {DateTime} from 'luxon';\n\nconst FORMATS = {\n  datetime: DateTime.DATETIME_MED_WITH_SECONDS,\n  millisecond: 'h:mm:ss.SSS a',\n  second: DateTime.TIME_WITH_SECONDS,\n  minute: DateTime.TIME_SIMPLE,\n  hour: {hour: 'numeric'},\n  day: {day: 'numeric', month: 'short'},\n  week: 'DD',\n  month: {month: 'short', year: 'numeric'},\n  quarter: \"'Q'q - yyyy\",\n  year: {year: 'numeric'}\n};\n\n_adapters._date.override({\n  _id: 'luxon', // DEBUG\n\n  /**\n   * @private\n   */\n  _create: function(time) {\n    return DateTime.fromMillis(time, this.options);\n  },\n\n  formats: function() {\n    return FORMATS;\n  },\n\n  parse: function(value, format) {\n    const options = this.options;\n\n    if (value === null || typeof value === 'undefined') {\n      return null;\n    }\n\n    const type = typeof value;\n    if (type === 'number') {\n      value = this._create(value);\n    } else if (type === 'string') {\n      if (typeof format === 'string') {\n        value = DateTime.fromFormat(value, format, options);\n      } else {\n        value = DateTime.fromISO(value, options);\n      }\n    } else if (value instanceof Date) {\n      value = DateTime.fromJSDate(value, options);\n    } else if (type === 'object' && !(value instanceof DateTime)) {\n      value = DateTime.fromObject(value);\n    }\n\n    return value.isValid ? value.valueOf() : null;\n  },\n\n  format: function(time, format) {\n    const datetime = this._create(time);\n    return typeof format === 'string'\n      ? datetime.toFormat(format, this.options)\n      : datetime.toLocaleString(format);\n  },\n\n  add: function(time, amount, unit) {\n    const args = {};\n    args[unit] = amount;\n    return this._create(time).plus(args).valueOf();\n  },\n\n  diff: function(max, min, unit) {\n    return this._create(max).diff(this._create(min)).as(unit).valueOf();\n  },\n\n  startOf: function(time, unit, weekday) {\n    if (unit === 'isoWeek') {\n      weekday = Math.trunc(Math.min(Math.max(0, weekday), 6));\n      const dateTime = this._create(time);\n      return dateTime.minus({days: (dateTime.weekday < weekday ? 7 : 0) + dateTime.weekday - weekday}).startOf('day').valueOf();\n    }\n    return unit ? this._create(time).startOf(unit).valueOf() : time;\n  },\n\n  endOf: function(time, unit) {\n    return this._create(time).endOf(unit).valueOf();\n  }\n});\n"],"names":["FORMATS","datetime","DateTime","DATETIME_MED_WITH_SECONDS","millisecond","second","TIME_WITH_SECONDS","minute","TIME_SIMPLE","hour","day","month","week","year","quarter","_adapters","_date","override","_id","_create","time","fromMillis","this","options","formats","parse","value","format","type","fromFormat","fromISO","Date","fromJSDate","fromObject","isValid","valueOf","toFormat","toLocaleString","add","amount","unit","args","plus","diff","max","min","as","startOf","weekday","Math","trunc","dateTime","minus","days","endOf"],"mappings":";;;;;;0RAGA,MAAMA,EAAU,CACdC,SAAUC,WAASC,0BACnBC,YAAa,gBACbC,OAAQH,WAASI,kBACjBC,OAAQL,WAASM,YACjBC,KAAM,CAACA,KAAM,WACbC,IAAK,CAACA,IAAK,UAAWC,MAAO,SAC7BC,KAAM,KACND,MAAO,CAACA,MAAO,QAASE,KAAM,WAC9BC,QAAS,cACTD,KAAM,CAACA,KAAM,YAGfE,YAAUC,MAAMC,SAAS,CACvBC,IAAK,QAKLC,QAAS,SAASC,GAChB,OAAOlB,WAASmB,WAAWD,EAAME,KAAKC,UAGxCC,QAAS,WACP,OAAOxB,GAGTyB,MAAO,SAASC,EAAOC,GACrB,MAAMJ,EAAUD,KAAKC,QAErB,GAAIG,MAAAA,EACF,OAAO,KAGT,MAAME,SAAcF,EAepB,MAda,WAATE,EACFF,EAAQJ,KAAKH,QAAQO,GACH,WAATE,EAEPF,EADoB,iBAAXC,EACDzB,WAAS2B,WAAWH,EAAOC,EAAQJ,GAEnCrB,WAAS4B,QAAQJ,EAAOH,GAEzBG,aAAiBK,KAC1BL,EAAQxB,WAAS8B,WAAWN,EAAOH,GACjB,WAATK,GAAuBF,aAAiBxB,aACjDwB,EAAQxB,WAAS+B,WAAWP,IAGvBA,EAAMQ,QAAUR,EAAMS,UAAY,MAG3CR,OAAQ,SAASP,EAAMO,GACrB,MAAM1B,EAAWqB,KAAKH,QAAQC,GAC9B,MAAyB,iBAAXO,EACV1B,EAASmC,SAAST,EAAQL,KAAKC,SAC/BtB,EAASoC,eAAeV,IAG9BW,IAAK,SAASlB,EAAMmB,EAAQC,GAC1B,MAAMC,EAAO,GAEb,OADAA,EAAKD,GAAQD,EACNjB,KAAKH,QAAQC,GAAMsB,KAAKD,GAAMN,WAGvCQ,KAAM,SAASC,EAAKC,EAAKL,GACvB,OAAOlB,KAAKH,QAAQyB,GAAKD,KAAKrB,KAAKH,QAAQ0B,IAAMC,GAAGN,GAAML,WAG5DY,QAAS,SAAS3B,EAAMoB,EAAMQ,GAC5B,GAAa,YAATR,EAAoB,CACtBQ,EAAUC,KAAKC,MAAMD,KAAKJ,IAAII,KAAKL,IAAI,EAAGI,GAAU,IACpD,MAAMG,EAAW7B,KAAKH,QAAQC,GAC9B,OAAO+B,EAASC,MAAM,CAACC,MAAOF,EAASH,QAAUA,EAAU,EAAI,GAAKG,EAASH,QAAUA,IAAUD,QAAQ,OAAOZ,UAElH,OAAOK,EAAOlB,KAAKH,QAAQC,GAAM2B,QAAQP,GAAML,UAAYf,GAG7DkC,MAAO,SAASlC,EAAMoB,GACpB,OAAOlB,KAAKH,QAAQC,GAAMkC,MAAMd,GAAML"}