var tempusDominus=function(t,e,s){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function a(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(s){if("default"!==s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}})),e.default=t,e}var n,o=i(t),c=a(s);!function(t){t.seconds="seconds",t.minutes="minutes",t.hours="hours",t.date="date",t.month="month",t.year="year"}(n||(n={}));class DateTime extends Date{constructor(){super(...arguments),this.locale="default"}setLocale(t){return this.locale=t,this}static convert(t){if(!t)throw"A date is required";return new DateTime(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}get clone(){return new DateTime(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.getMilliseconds()).setLocale(this.locale)}startOf(t){if(void 0===this[t])throw`Unit '${t}' is not valid`;switch(t){case"seconds":this.setMilliseconds(0);break;case"minutes":this.setSeconds(0,0);break;case"hours":this.setMinutes(0,0,0);break;case"date":this.setHours(0,0,0,0);break;case"weekDay":this.startOf(n.date),this.manipulate(0-this.weekDay,n.date);break;case"month":this.startOf(n.date),this.setDate(1);break;case"year":this.startOf(n.date),this.setMonth(0,1)}return this}endOf(t){if(void 0===this[t])throw`Unit '${t}' is not valid`;switch(t){case"seconds":this.setMilliseconds(999);break;case"minutes":this.setSeconds(59,999);break;case"hours":this.setMinutes(59,59,999);break;case"date":this.setHours(23,59,59,999);break;case"weekDay":this.startOf(n.date),this.manipulate(6-this.weekDay,n.date);break;case"month":this.endOf(n.date),this.manipulate(1,n.month),this.setDate(0);break;case"year":this.endOf(n.date),this.manipulate(1,n.year),this.setDate(0)}return this}manipulate(t,e){if(void 0===this[e])throw`Unit '${e}' is not valid`;return this[e]+=t,this}format(t,e=this.locale){return new Intl.DateTimeFormat(e,t).format(this)}isBefore(t,e){if(!e)return this.valueOf()<t.valueOf();if(void 0===this[e])throw`Unit '${e}' is not valid`;return this.clone.startOf(e).valueOf()<t.clone.startOf(e).valueOf()}isAfter(t,e){if(!e)return this.valueOf()>t.valueOf();if(void 0===this[e])throw`Unit '${e}' is not valid`;return this.clone.startOf(e).valueOf()>t.clone.startOf(e).valueOf()}isSame(t,e){if(!e)return this.valueOf()===t.valueOf();if(void 0===this[e])throw`Unit '${e}' is not valid`;return t=DateTime.convert(t),this.clone.startOf(e).valueOf()===t.startOf(e).valueOf()}isBetween(t,e,s,i="()"){if(s&&void 0===this[s])throw`Unit '${s}' is not valid`;const a="("===i[0],n=")"===i[1];return(a?this.isAfter(t,s):!this.isBefore(t,s))&&(n?this.isBefore(e,s):!this.isAfter(e,s))||(a?this.isBefore(t,s):!this.isAfter(t,s))&&(n?this.isAfter(e,s):!this.isBefore(e,s))}parts(t=this.locale,e={dateStyle:"full",timeStyle:"long"}){const s={};return new Intl.DateTimeFormat(t,e).formatToParts(this).filter((t=>"literal"!==t.type)).forEach((t=>s[t.type]=t.value)),s}get seconds(){return this.getSeconds()}set seconds(t){this.setSeconds(t)}get secondsFormatted(){return this.format({second:"2-digit"})}get minutes(){return this.getMinutes()}set minutes(t){this.setMinutes(t)}get minutesFormatted(){return this.format({minute:"2-digit"})}get hours(){return this.getHours()}set hours(t){this.setHours(t)}get hoursFormatted(){return this.format({hour:"2-digit"})}get twelveHoursFormatted(){return this.format({hour12:!0,hour:"2-digit"})}meridiem(t=this.locale){var e;return null===(e=new Intl.DateTimeFormat(t,{hour:"numeric",hour12:!0}).formatToParts(this).find((t=>"dayPeriod"===t.type)))||void 0===e?void 0:e.value}get date(){return this.getDate()}set date(t){this.setDate(t)}get dateFormatted(){return this.date<10?`0${this.date}`:`${this.date}`}get week(){const t=new Date(this.year,0,1);return t.setDate(t.getDate()+(1-t.getDay()%7)),Math.round((this.valueOf()-t.valueOf())/6048e5)+1}get weekDay(){return this.getDay()}get month(){return this.getMonth()}set month(t){this.setMonth(t)}get monthFormatted(){return this.month+1<10?`0${this.month}`:`${this.month}`}get year(){return this.getFullYear()}set year(t){this.setFullYear(t)}}class TdError extends Error{}const r="tempus-dominus";class Namespace{}Namespace.NAME=r,Namespace.version="6.0.0-alpha1",Namespace.dataKey="td",Namespace.events=new class Events{constructor(){this.key=".td",this.change=`change${this.key}`,this.update=`update${this.key}`,this.error=`error${this.key}`,this.show=`show${this.key}`,this.hide=`hide${this.key}`,this.blur=`blur${this.key}`,this.focus=`focus${this.key}`,this.keyup=`keyup${this.key}`,this.keydown=`keydown${this.key}`}},Namespace.css=new class Css{constructor(){this.widget=`${r}-widget`,this.calendarHeader="calendar-header",this.switch="picker-switch",this.toolbar="toolbar",this.noHighlight="no-highlight",this.sideBySide="timepicker-sbs",this.previous="previous",this.next="next",this.disabled="disabled",this.old="old",this.new="new",this.active="active",this.dateContainer="date-container",this.decadesContainer=`${this.dateContainer}-decades`,this.decade="decade",this.yearsContainer=`${this.dateContainer}-years`,this.year="year",this.monthsContainer=`${this.dateContainer}-months`,this.month="month",this.daysContainer=`${this.dateContainer}-days`,this.day="day",this.calendarWeeks="cw",this.dayOfTheWeek="dow",this.today="today",this.weekend="weekend",this.timeContainer="time-container",this.separator="separator",this.clockContainer=`${this.timeContainer}-clock`,this.hourContainer=`${this.timeContainer}-hour`,this.minuteContainer=`${this.timeContainer}-minute`,this.secondContainer=`${this.timeContainer}-second`,this.hour="hour",this.minute="minute",this.second="second",this.toggleMeridiem="toggleMeridiem",this.show="show",this.collapsing="td-collapsing",this.collapse="td-collapse",this.inline="inline"}},Namespace.errorMessages=new class ErrorMessages{constructor(){this.base="TD:",this.failedToSetInvalidDate="Failed to set invalid date",this.failedToParseInput="Failed parse input field"}unexpectedOption(t){const e=new TdError(`${this.base} Unexpected option: ${t} does not match a known option.`);throw e.code=1,e}unexpectedOptions(t){const e=new TdError(`${this.base}: ${t.join(", ")}`);throw e.code=1,e}unexpectedOptionValue(t,e,s){const i=new TdError(`${this.base} Unexpected option value: ${t} does not accept a value of "${e}". Valid values are: ${s.join(", ")}`);throw i.code=2,i}typeMismatch(t,e,s){const i=new TdError(`${this.base} Mismatch types: ${t} has a type of ${e} instead of the required ${s}`);throw i.code=3,i}numbersOutOfRage(t,e,s){const i=new TdError(`${this.base} ${t} expected an array of number between ${e} and ${s}.`);throw i.code=4,i}failedToParseDate(t,e,s=!1){const i=new TdError(`${this.base} Could not correctly parse "${e}" to a date for ${t}.`);if(i.code=5,!s)throw i;console.warn(i)}mustProvideElement(){const t=new TdError(`${this.base} No element was provided.`);throw t.code=6,t}subscribeMismatch(){const t=new TdError(`${this.base} The subscribed events does not match the number of callbacks`);throw t.code=7,t}conflictingConfiguration(t){const e=new TdError(`${this.base} A configuration value conflicts with another rule. ${t}`);throw e.code=8,e}dateString(){console.warn(`${this.base} Using a string for date options is not recommended unless you specify an ISO string.`)}};const d={restrictions:{minDate:void 0,maxDate:void 0,disabledDates:[],enabledDates:[],daysOfWeekDisabled:[],disabledTimeIntervals:[],disabledHours:[],enabledHours:[]},display:{icons:{type:"icons",time:"fas fa-clock",date:"fas fa-calendar",up:"fas fa-arrow-up",down:"fas fa-arrow-down",previous:"fas fa-chevron-left",next:"fas fa-chevron-right",today:"fas fa-calendar-check",clear:"fas fa-trash",close:"fas fa-times"},sideBySide:!1,calendarWeeks:!1,viewMode:"calendar",toolbarPlacement:"bottom",keepOpen:!1,buttons:{today:!1,clear:!1,close:!1},components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:!1},format:"",inline:!1},stepping:1,useCurrent:!0,defaultDate:void 0,localization:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",previousMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",previousYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",previousDecade:"Previous Decade",nextDecade:"Next Decade",previousCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",toggleMeridiem:"Toggle Meridiem",selectTime:"Select Time",selectDate:"Select Date",dayViewHeaderFormat:"long",locale:"default"},keepInvalid:!1,debug:!1,allowInputToggle:!1,viewDate:new DateTime,multipleDates:!1,multipleDatesSeparator:"; ",promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200,hooks:{inputParse:void 0,inputFormat:void 0}},l=[{name:"calendar",className:Namespace.css.daysContainer,unit:n.month,step:1},{name:"months",className:Namespace.css.monthsContainer,unit:n.year,step:1},{name:"years",className:Namespace.css.yearsContainer,unit:n.year,step:10},{name:"decades",className:Namespace.css.decadesContainer,unit:n.year,step:100}];class Collapse{constructor(){this.getTransitionDurationFromElement=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:s}=window.getComputedStyle(t);const i=Number.parseFloat(e),a=Number.parseFloat(s);return i||a?(e=e.split(",")[0],s=s.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(s))):0}}toggle(t,e){t.classList.contains(Namespace.css.show)?this.hide(t,e):this.show(t,e)}show(t,e){if(t.classList.contains(Namespace.css.collapsing)||t.classList.contains(Namespace.css.show))return;t.style.height="0",t.classList.remove(Namespace.css.collapse),t.classList.add(Namespace.css.collapsing),this.timeOut=setTimeout((()=>{t.classList.remove(Namespace.css.collapsing),t.classList.add(Namespace.css.collapse,Namespace.css.show),t.style.height="",this.timeOut=null,e&&e()}),this.getTransitionDurationFromElement(t)),t.style.height=`${t.scrollHeight}px`}hide(t,e){if(t.classList.contains(Namespace.css.collapsing)||!t.classList.contains(Namespace.css.show))return;t.style.height=`${t.getBoundingClientRect().height}px`;t.offsetHeight,t.classList.remove(Namespace.css.collapse,Namespace.css.show),t.classList.add(Namespace.css.collapsing),t.style.height="",this.timeOut=setTimeout((()=>{t.classList.remove(Namespace.css.collapsing),t.classList.add(Namespace.css.collapse),this.timeOut=null}),this.getTransitionDurationFromElement(t))}}class Actions{constructor(t){this._context=t,this.collapse=new Collapse}do(t,e){var s;const i=t.currentTarget;if(i.classList.contains(Namespace.css.disabled))return!1;e=e||i.dataset.action;const a=(this._context.dates.lastPicked||this._context._viewDate).clone,o=(t,e=1)=>{const s=a.manipulate(e,t);this._context._validation.isValid(s,t)&&this._context.dates._setValue(s,this._context.dates.lastPickedIndex)};switch(e){case h.next:case h.previous:const{unit:c,step:r}=l[this._context._currentViewMode];e===h.next?this._context._viewDate.manipulate(r,c):this._context._viewDate.manipulate(-1*r,c),this._context._viewUpdate(c),this._context._display._showMode();break;case h.pickerSwitch:this._context._display._showMode(1),this._context._viewUpdate(l[this._context._currentViewMode].unit),this._context._display._updateCalendarHeader();break;case h.selectMonth:case h.selectYear:case h.selectDecade:const d=+i.dataset.value;switch(e){case h.selectMonth:this._context._viewDate.month=d,this._context._viewUpdate(n.month);break;case h.selectYear:case h.selectDecade:this._context._viewDate.year=d,this._context._viewUpdate(n.year)}this._context._currentViewMode===this._context._minViewModeNumber?(this._context.dates._setValue(this._context._viewDate,this._context.dates.lastPickedIndex),this._context._options.display.inline||this._context._display.hide()):this._context._display._showMode(-1);break;case h.selectDay:const p=this._context._viewDate.clone;i.classList.contains(Namespace.css.old)&&p.manipulate(-1,n.month),i.classList.contains(Namespace.css.new)&&p.manipulate(1,n.month),p.date=+i.dataset.day;let u=0;this._context._options.multipleDates?(u=this._context.dates.pickedIndex(p,n.date),-1!==u?this._context.dates._setValue(null,u):this._context.dates._setValue(p,this._context.dates.lastPickedIndex+1)):this._context.dates._setValue(p,this._context.dates.lastPickedIndex),this._context._display._hasTime||this._context._options.display.keepOpen||this._context._options.display.inline||this._context._options.multipleDates||this._context._display.hide();break;case h.selectHour:let m=+i.dataset.value;a.hours>=12&&!this._context._options.display.components.useTwentyfourHour&&(m+=12),a.hours=m,this._context.dates._setValue(a,this._context.dates.lastPickedIndex),!this._context._options.display.components.useTwentyfourHour||this._context._options.display.components.minutes||this._context._options.display.keepOpen||this._context._options.display.inline?this.do(t,h.showClock):this._context._display.hide();break;case h.selectMinute:a.minutes=+i.dataset.value,this._context.dates._setValue(a,this._context.dates.lastPickedIndex),!this._context._options.display.components.useTwentyfourHour||this._context._options.display.components.seconds||this._context._options.display.keepOpen||this._context._options.display.inline?this.do(t,h.showClock):this._context._display.hide();break;case h.selectSecond:a.seconds=+i.dataset.value,this._context.dates._setValue(a,this._context.dates.lastPickedIndex),!this._context._options.display.components.useTwentyfourHour||this._context._options.display.keepOpen||this._context._options.display.inline?this.do(t,h.showClock):this._context._display.hide();break;case h.incrementHours:o(n.hours);break;case h.incrementMinutes:o(n.minutes,this._context._options.stepping);break;case h.incrementSeconds:o(n.seconds);break;case h.decrementHours:o(n.hours,-1);break;case h.decrementMinutes:o(n.minutes,-1*this._context._options.stepping);break;case h.decrementSeconds:o(n.seconds,-1);break;case h.toggleMeridiem:o(n.hours,(null===(s=this._context.dates.lastPicked)||void 0===s?void 0:s.hours)>=12?-12:12);break;case h.togglePicker:this._context._display.widget.querySelectorAll(`.${Namespace.css.dateContainer}, .${Namespace.css.timeContainer}`).forEach((t=>this.collapse.toggle(t))),i.getAttribute("title")===this._context._options.localization.selectDate?(i.setAttribute("title",this._context._options.localization.selectTime),i.innerHTML=this._context._display._iconTag(this._context._options.display.icons.time).outerHTML,this._context._display._updateCalendarHeader()):(i.setAttribute("title",this._context._options.localization.selectDate),i.innerHTML=this._context._display._iconTag(this._context._options.display.icons.date).outerHTML,this.do(t,h.showClock),this._context._display._update("clock"));break;case h.showClock:case h.showHours:case h.showMinutes:case h.showSeconds:this._context._display.widget.querySelectorAll(`.${Namespace.css.timeContainer} > div`).forEach((t=>t.style.display="none"));let _="";switch(e){case h.showClock:_=Namespace.css.clockContainer,this._context._display._update("clock");break;case h.showHours:_=Namespace.css.hourContainer,this._context._display._update(n.hours);break;case h.showMinutes:_=Namespace.css.minuteContainer,this._context._display._update(n.minutes);break;case h.showSeconds:_=Namespace.css.secondContainer,this._context._display._update(n.seconds)}this._context._display.widget.getElementsByClassName(_)[0].style.display="grid";break;case h.clear:this._context.dates._setValue(null),this._context._display._updateCalendarHeader();break;case h.close:this._context._display.hide();break;case h.today:const y=(new DateTime).setLocale(this._context._options.localization.locale);this._context._viewDate=y,this._context._validation.isValid(y,n.date)&&this._context.dates._setValue(y,this._context.dates.lastPickedIndex)}}}var h;!function(t){t.next="next",t.previous="previous",t.pickerSwitch="pickerSwitch",t.selectMonth="selectMonth",t.selectYear="selectYear",t.selectDecade="selectDecade",t.selectDay="selectDay",t.selectHour="selectHour",t.selectMinute="selectMinute",t.selectSecond="selectSecond",t.incrementHours="incrementHours",t.incrementMinutes="incrementMinutes",t.incrementSeconds="incrementSeconds",t.decrementHours="decrementHours",t.decrementMinutes="decrementMinutes",t.decrementSeconds="decrementSeconds",t.toggleMeridiem="toggleMeridiem",t.togglePicker="togglePicker",t.showClock="showClock",t.showHours="showHours",t.showMinutes="showMinutes",t.showSeconds="showSeconds",t.clear="clear",t.close="close",t.today="today"}(h||(h={}));class DateDisplay{constructor(t){this._context=t}get _picker(){const t=document.createElement("div");if(t.classList.add(Namespace.css.daysContainer),t.append(...this._daysOfTheWeek()),this._context._options.display.calendarWeeks){const e=document.createElement("div");e.classList.add(Namespace.css.calendarWeeks,Namespace.css.noHighlight),t.appendChild(e)}for(let e=0;e<42;e++){if(0!==e&&e%7==0&&this._context._options.display.calendarWeeks){const e=document.createElement("div");e.classList.add(Namespace.css.calendarWeeks,Namespace.css.noHighlight),t.appendChild(e)}const s=document.createElement("div");s.setAttribute("data-action",h.selectDay),t.appendChild(s)}return t}_update(){const t=this._context._display.widget.getElementsByClassName(Namespace.css.daysContainer)[0],[e,s,i]=t.parentElement.getElementsByClassName(Namespace.css.calendarHeader)[0].getElementsByTagName("div");s.setAttribute(Namespace.css.daysContainer,this._context._viewDate.format({month:this._context._options.localization.dayViewHeaderFormat})),this._context._validation.isValid(this._context._viewDate.clone.manipulate(-1,n.month),n.month)?e.classList.remove(Namespace.css.disabled):e.classList.add(Namespace.css.disabled),this._context._validation.isValid(this._context._viewDate.clone.manipulate(1,n.month),n.month)?i.classList.remove(Namespace.css.disabled):i.classList.add(Namespace.css.disabled);let a=this._context._viewDate.clone.startOf(n.month).startOf("weekDay").manipulate(12,n.hours);t.querySelectorAll(`[data-action="${h.selectDay}"], .${Namespace.css.calendarWeeks}`).forEach(((t,e)=>{if(this._context._options.display.calendarWeeks&&t.classList.contains(Namespace.css.calendarWeeks)){if("#"===t.innerText)return;return void(t.innerText=`${a.week}`)}let s=[];s.push(Namespace.css.day),a.isBefore(this._context._viewDate,n.month)&&s.push(Namespace.css.old),a.isAfter(this._context._viewDate,n.month)&&s.push(Namespace.css.new),!this._context._unset&&this._context.dates.isPicked(a,n.date)&&s.push(Namespace.css.active),this._context._validation.isValid(a,n.date)||s.push(Namespace.css.disabled),a.isSame(new DateTime,n.date)&&s.push(Namespace.css.today),0!==a.weekDay&&6!==a.weekDay||s.push(Namespace.css.weekend),t.classList.remove(...t.classList),t.classList.add(...s),t.setAttribute("data-value",`${a.year}-${a.monthFormatted}-${a.dateFormatted}`),t.setAttribute("data-day",`${a.date}`),t.innerText=a.format({day:"numeric"}),a.manipulate(1,n.date)}))}_daysOfTheWeek(){let t=this._context._viewDate.clone.startOf("weekDay").startOf(n.date);const e=[];if(document.createElement("div"),this._context._options.display.calendarWeeks){const t=document.createElement("div");t.classList.add(Namespace.css.calendarWeeks,Namespace.css.noHighlight),t.innerText="#",e.push(t)}for(let s=0;s<7;s++){const s=document.createElement("div");s.classList.add(Namespace.css.dayOfTheWeek,Namespace.css.noHighlight),s.innerText=t.format({weekday:"short"}),t.manipulate(1,n.date),e.push(s)}return e}}class MonthDisplay{constructor(t){this._context=t}get _picker(){const t=document.createElement("div");t.classList.add(Namespace.css.monthsContainer);for(let e=0;e<12;e++){const e=document.createElement("div");e.setAttribute("data-action",h.selectMonth),t.appendChild(e)}return t}_update(){const t=this._context._display.widget.getElementsByClassName(Namespace.css.monthsContainer)[0],[e,s,i]=t.parentElement.getElementsByClassName(Namespace.css.calendarHeader)[0].getElementsByTagName("div");s.setAttribute(Namespace.css.monthsContainer,this._context._viewDate.format({year:"numeric"})),this._context._validation.isValid(this._context._viewDate.clone.manipulate(-1,n.year),n.year)?e.classList.remove(Namespace.css.disabled):e.classList.add(Namespace.css.disabled),this._context._validation.isValid(this._context._viewDate.clone.manipulate(1,n.year),n.year)?i.classList.remove(Namespace.css.disabled):i.classList.add(Namespace.css.disabled);let a=this._context._viewDate.clone.startOf(n.year);t.querySelectorAll(`[data-action="${h.selectMonth}"]`).forEach(((t,e)=>{let s=[];s.push(Namespace.css.month),!this._context._unset&&this._context.dates.isPicked(a,n.month)&&s.push(Namespace.css.active),this._context._validation.isValid(a,n.month)||s.push(Namespace.css.disabled),t.classList.remove(...t.classList),t.classList.add(...s),t.setAttribute("data-value",`${e}`),t.innerText=`${a.format({month:"short"})}`,a.manipulate(1,n.month)}))}}class OptionConverter{static _mergeOptions(t,e){const s={};let i="";const a=["inputParse","inputFormat"],n=(t,e,s,a)=>{switch(t){case"defaultDate":{const t=this._dateConversion(e,"defaultDate");if(void 0!==t)return t;Namespace.errorMessages.typeMismatch("defaultDate",s,"DateTime or Date")}case"viewDate":{const t=this._dateConversion(e,"viewDate");if(void 0!==t)return t;Namespace.errorMessages.typeMismatch("viewDate",s,"DateTime or Date")}case"minDate":{if(void 0===e)return e;const t=this._dateConversion(e,"restrictions.minDate");if(void 0!==t)return t;Namespace.errorMessages.typeMismatch("restrictions.minDate",s,"DateTime or Date")}case"maxDate":{if(void 0===e)return e;const t=this._dateConversion(e,"restrictions.maxDate");if(void 0!==t)return t;Namespace.errorMessages.typeMismatch("restrictions.maxDate",s,"DateTime or Date")}case"disabledHours":return void 0===e?[]:(this._typeCheckNumberArray("restrictions.disabledHours",e,s),e.filter((t=>t<0||t>24)).length>0&&Namespace.errorMessages.numbersOutOfRage("restrictions.disabledHours",0,23),e);case"enabledHours":return void 0===e?[]:(this._typeCheckNumberArray("restrictions.enabledHours",e,s),e.filter((t=>t<0||t>24)).length>0&&Namespace.errorMessages.numbersOutOfRage("restrictions.enabledHours",0,23),e);case"daysOfWeekDisabled":return void 0===e?[]:(this._typeCheckNumberArray("restrictions.daysOfWeekDisabled",e,s),e.filter((t=>t<0||t>6)).length>0&&Namespace.errorMessages.numbersOutOfRage("restrictions.daysOfWeekDisabled",0,6),e);case"enabledDates":return void 0===e?[]:(this._typeCheckDateArray("restrictions.enabledDates",e,s),e);case"disabledDates":return void 0===e?[]:(this._typeCheckDateArray("restrictions.disabledDates",e,s),e);case"disabledTimeIntervals":if(void 0===e)return[];Array.isArray(e)||Namespace.errorMessages.typeMismatch(t,s,"array of { from: DateTime|Date, to: DateTime|Date }");const n=e;for(let e=0;e<n.length;e++)Object.keys(n[e]).forEach((s=>{const i=`${t}[${e}].${s}`;let a=n[e][s];const o=this._dateConversion(a,i);o||Namespace.errorMessages.typeMismatch(i,typeof a,"DateTime or Date"),n[e][s]=o}));return n;case"toolbarPlacement":case"type":case"viewMode":case"dayViewHeaderFormat":const o={toolbarPlacement:["top","bottom","default"],type:["icons","sprites"],viewMode:["clock","calendar","months","years","decades"],dayViewHeaderFormat:["numeric","2-digit","long","short","narrow"]}[t];return o.includes(e)||Namespace.errorMessages.unexpectedOptionValue(i.substring(1),e,o),e;case"inputParse":case"inputFormat":return e;default:switch(a){case"boolean":return"true"===e||!0===e;case"number":return+e;case"string":return e.toString();case"object":return{};case"function":return e;default:Namespace.errorMessages.typeMismatch(i.substring(1),s,a)}}},o=(t,e,s)=>{const c=Object.keys(t).filter((t=>!Object.keys(e).includes(t)));if(c.length>0){const t=OptionConverter._flattenDefaultOptions,e=c.map((e=>{let s=`"${i.substring(1)}.${e}" in not a known option.`,a=t.find((t=>t.includes(e)));return a&&(s+=`Did you mean "${a}"?`),s}));Namespace.errorMessages.unexpectedOptions(e)}Object.keys(e).forEach((c=>{const r=e[c];let d=typeof t[c],l=typeof r,h=t[c];if(!t.hasOwnProperty(c)){if("undefined"===l||0===(null==h?void 0:h.length)&&Array.isArray(r))return void(s[c]=r);t[c]=r,h=t[c]}i+=`.${c}`,s[c]=n(c,h,d,l),"object"!=typeof r||a.includes(c)||Array.isArray(t[c])||(o(t[c],r,s[c]),i=i.substring(0,i.lastIndexOf(`.${c}`))),i=i.substring(0,i.lastIndexOf(`.${c}`))}))};return o(t,e,s),s}static _dataToOptions(t,e){const s=t.dataset;if(!s||0===Object.keys(s).length||s.constructor!==DOMStringMap)return e;let i={};const a=t=>{const e={};return Object.keys(t).forEach((t=>{e[t.toLowerCase()]=t})),e},n=(t,e,s,i)=>{const o=a(s)[t[e].toLowerCase()],c={};return void 0===o||(s[o].constructor===Object?(e++,c[o]=n(t,e,s[o],i)):c[o]=i),c},o=a(e);return Object.keys(s).filter((t=>t.startsWith(Namespace.dataKey))).map((t=>t.substring(2))).forEach((t=>{let a=o[t.toLowerCase()];if(t.includes("_")){const c=t.split("_");a=o[c[0].toLowerCase()],void 0!==a&&e[a].constructor===Object&&(i[a]=n(c,1,e[a],s[`td${t}`]))}else void 0!==a&&(i[a]=s[`td${t}`])})),this._mergeOptions(i,e)}static _dateTypeCheck(t){if(t.constructor.name===DateTime.name)return t;if(t.constructor.name===Date.name)return DateTime.convert(t);if("string"==typeof t){const e=new DateTime(t);return"null"===JSON.stringify(e)?null:e}return null}static _typeCheckDateArray(t,e,s){Array.isArray(e)||Namespace.errorMessages.typeMismatch(t,s,"array of DateTime or Date");for(let s=0;s<e.length;s++){let i=e[s];const a=this._dateConversion(i,t);a||Namespace.errorMessages.typeMismatch(t,typeof i,"DateTime or Date"),e[s]=a}}static _typeCheckNumberArray(t,e,s){(!Array.isArray(e)||e.length&&e.find((t=>"number"!=typeof t)))&&Namespace.errorMessages.typeMismatch(t,s,"array of numbers")}static _dateConversion(t,e){"string"==typeof t&&"input"!==e&&Namespace.errorMessages.dateString();const s=this._dateTypeCheck(t);return t&&!s&&Namespace.errorMessages.failedToParseDate(e,t,"input"===e),s}static get _flattenDefaultOptions(){if(this._flatback)return this._flatback;const t=(e,s=[])=>Array.isArray(e)?[]:Object(e)===e?Object.entries(e).flatMap((([e,i])=>t(i,[...s,e]))):s.join(".");return this._flatback=t(d),this._flatback}static _validateConflcits(t){t.restrictions.minDate&&t.restrictions.maxDate&&(t.restrictions.minDate.isAfter(t.restrictions.maxDate)&&Namespace.errorMessages.conflictingConfiguration("minDate is after maxDate"),t.restrictions.maxDate.isBefore(t.restrictions.minDate)&&Namespace.errorMessages.conflictingConfiguration("maxDate is before minDate"))}}class Dates{constructor(t){this._dates=[],this._context=t}get picked(){return this._dates}get lastPicked(){return this._dates[this.lastPickedIndex]}get lastPickedIndex(){return 0===this._dates.length?0:this._dates.length-1}add(t){this._dates.push(t)}set(t,e,s="date.set"){t||this._setValue(t,e);const i=OptionConverter._dateConversion(t,s);i&&this._setValue(i,e)}isPicked(t,e){if(!e)return void 0!==this._dates.find((e=>e===t));const s=Dates.getFormatByUnit(e);let i=t.format(s);return void 0!==this._dates.map((t=>t.format(s))).find((t=>t===i))}pickedIndex(t,e){if(!e)return this._dates.indexOf(t);const s=Dates.getFormatByUnit(e);let i=t.format(s);return this._dates.map((t=>t.format(s))).indexOf(i)}clear(){this._context._unset=!0,this._context._triggerEvent({type:Namespace.events.change,date:void 0,oldDate:this.lastPicked,isClear:!0,isValid:!0}),this._dates=[]}static getStartEndYear(t,e){const s=t/10,i=Math.floor(e/t)*t;return[i,i+9*s,Math.floor(e/s)*s]}_setValue(t,e){const s=void 0===e,i=!t&&s;let a=this._context._unset?null:this._dates[e];!a&&!this._context._unset&&s&&i&&(a=this.lastPicked);const n=()=>{if(!this._context._input)return;let e=this._context._options.hooks.inputFormat(this._context,t);this._context._options.multipleDates&&(e=this._dates.map((t=>this._context._options.hooks.inputFormat(this._context,t))).join(this._context._options.multipleDatesSeparator)),this._context._input.value!=e&&(this._context._input.value=e)};if(t&&(null==a?void 0:a.isSame(t)))n();else{if(!t)return!this._context._options.multipleDates||1===this._dates.length||i?(this._context._unset=!0,this._dates=[]):this._dates.splice(e,1),this._context._triggerEvent({type:Namespace.events.change,date:void 0,oldDate:a,isClear:i,isValid:!0}),n(),void this._context._display._update("all");if(e=e||0,t=t.clone,1!==this._context._options.stepping&&(t.minutes=Math.round(t.minutes/this._context._options.stepping)*this._context._options.stepping,t.seconds=0),this._context._validation.isValid(t))return this._dates[e]=t,this._context._viewDate=t.clone,n(),this._context._unset=!1,this._context._display._update("all"),void this._context._triggerEvent({type:Namespace.events.change,date:t,oldDate:a,isClear:i,isValid:!0});this._context._options.keepInvalid&&(this._dates[e]=t,this._context._viewDate=t.clone,n(),this._context._triggerEvent({type:Namespace.events.change,date:t,oldDate:a,isClear:i,isValid:!1})),this._context._triggerEvent({type:Namespace.events.error,reason:Namespace.errorMessages.failedToSetInvalidDate,date:t,oldDate:a})}}static getFormatByUnit(t){switch(t){case"date":return{dateStyle:"short"};case"month":return{month:"numeric",year:"numeric"};case"year":return{year:"numeric"}}}}class YearDisplay{constructor(t){this._context=t}get _picker(){const t=document.createElement("div");t.classList.add(Namespace.css.yearsContainer);for(let e=0;e<12;e++){const e=document.createElement("div");e.setAttribute("data-action",h.selectYear),t.appendChild(e)}return t}_update(){Dates.getStartEndYear(10,this._context._viewDate.year),this._startYear=this._context._viewDate.clone.manipulate(-1,n.year),this._endYear=this._context._viewDate.clone.manipulate(10,n.year);const t=this._context._display.widget.getElementsByClassName(Namespace.css.yearsContainer)[0],[e,s,i]=t.parentElement.getElementsByClassName(Namespace.css.calendarHeader)[0].getElementsByTagName("div");s.setAttribute(Namespace.css.yearsContainer,`${this._startYear.format({year:"numeric"})}-${this._endYear.format({year:"numeric"})}`),this._context._validation.isValid(this._startYear,n.year)?e.classList.remove(Namespace.css.disabled):e.classList.add(Namespace.css.disabled),this._context._validation.isValid(this._endYear,n.year)?i.classList.remove(Namespace.css.disabled):i.classList.add(Namespace.css.disabled);let a=this._context._viewDate.clone.startOf(n.year).manipulate(-1,n.year);t.querySelectorAll(`[data-action="${h.selectYear}"]`).forEach(((t,e)=>{let s=[];s.push(Namespace.css.year),!this._context._unset&&this._context.dates.isPicked(a,n.year)&&s.push(Namespace.css.active),this._context._validation.isValid(a,n.year)||s.push(Namespace.css.disabled),t.classList.remove(...t.classList),t.classList.add(...s),t.setAttribute("data-value",`${a.year}`),t.innerText=a.format({year:"numeric"}),a.manipulate(1,n.year)}))}}class DecadeDisplay{constructor(t){this._context=t}get _picker(){const t=document.createElement("div");t.classList.add(Namespace.css.decadesContainer);for(let e=0;e<12;e++){const e=document.createElement("div");e.setAttribute("data-action",h.selectDecade),t.appendChild(e)}return t}_update(){const[t,e]=Dates.getStartEndYear(100,this._context._viewDate.year);this._startDecade=this._context._viewDate.clone.startOf(n.year),this._startDecade.year=t,this._endDecade=this._context._viewDate.clone.startOf(n.year),this._endDecade.year=e;const s=this._context._display.widget.getElementsByClassName(Namespace.css.decadesContainer)[0],[i,a,o]=s.parentElement.getElementsByClassName(Namespace.css.calendarHeader)[0].getElementsByTagName("div");a.setAttribute(Namespace.css.decadesContainer,`${this._startDecade.format({year:"numeric"})}-${this._endDecade.format({year:"numeric"})}`),this._context._validation.isValid(this._startDecade,n.year)?i.classList.remove(Namespace.css.disabled):i.classList.add(Namespace.css.disabled),this._context._validation.isValid(this._endDecade,n.year)?o.classList.remove(Namespace.css.disabled):o.classList.add(Namespace.css.disabled);const c=this._context.dates.picked.map((t=>t.year));s.querySelectorAll(`[data-action="${h.selectDecade}"]`).forEach(((t,e)=>{if(0===e)return t.classList.add(Namespace.css.old),this._startDecade.year-10<0?(t.textContent=" ",i.classList.add(Namespace.css.disabled),t.classList.add(Namespace.css.disabled),void t.setAttribute("data-value","")):(t.innerText=this._startDecade.clone.manipulate(-10,n.year).format({year:"numeric"}),void t.setAttribute("data-value",`${this._startDecade.year}`));let s=[];s.push(Namespace.css.decade);const a=this._startDecade.year,o=this._startDecade.year+9;!this._context._unset&&c.filter((t=>t>=a&&t<=o)).length>0&&s.push(Namespace.css.active),t.classList.remove(...t.classList),t.classList.add(...s),t.setAttribute("data-value",`${this._startDecade.year}`),t.innerText=`${this._startDecade.format({year:"numeric"})}`,this._startDecade.manipulate(10,n.year)}))}}class TimeDisplay{constructor(t){this._gridColumns="",this._context=t}get _picker(){const t=document.createElement("div");return t.classList.add(Namespace.css.clockContainer),t.append(...this._grid()),t}_update(){const t=this._context._display.widget.getElementsByClassName(Namespace.css.clockContainer)[0],e=(this._context.dates.lastPicked||this._context._viewDate).clone;if(t.querySelectorAll(".disabled").forEach((t=>t.classList.remove(Namespace.css.disabled))),this._context._options.display.components.hours&&(this._context._validation.isValid(this._context._viewDate.clone.manipulate(1,n.hours),n.hours)||t.querySelector(`[data-action=${h.incrementHours}]`).classList.add(Namespace.css.disabled),this._context._validation.isValid(this._context._viewDate.clone.manipulate(-1,n.hours),n.hours)||t.querySelector(`[data-action=${h.decrementHours}]`).classList.add(Namespace.css.disabled),t.querySelector(`[data-time-component=${n.hours}]`).innerText=this._context._options.display.components.useTwentyfourHour?e.hoursFormatted:e.twelveHoursFormatted),this._context._options.display.components.minutes&&(this._context._validation.isValid(this._context._viewDate.clone.manipulate(1,n.minutes),n.minutes)||t.querySelector(`[data-action=${h.incrementMinutes}]`).classList.add(Namespace.css.disabled),this._context._validation.isValid(this._context._viewDate.clone.manipulate(-1,n.minutes),n.minutes)||t.querySelector(`[data-action=${h.decrementMinutes}]`).classList.add(Namespace.css.disabled),t.querySelector(`[data-time-component=${n.minutes}]`).innerText=e.minutesFormatted),this._context._options.display.components.seconds&&(this._context._validation.isValid(this._context._viewDate.clone.manipulate(1,n.seconds),n.seconds)||t.querySelector(`[data-action=${h.incrementSeconds}]`).classList.add(Namespace.css.disabled),this._context._validation.isValid(this._context._viewDate.clone.manipulate(-1,n.seconds),n.seconds)||t.querySelector(`[data-action=${h.decrementSeconds}]`).classList.add(Namespace.css.disabled),t.querySelector(`[data-time-component=${n.seconds}]`).innerText=e.secondsFormatted),!this._context._options.display.components.useTwentyfourHour){const s=t.querySelector(`[data-action=${h.toggleMeridiem}]`);s.innerText=e.meridiem(),this._context._validation.isValid(e.clone.manipulate(e.hours>=12?-12:12,n.hours))?s.classList.remove(Namespace.css.disabled):s.classList.add(Namespace.css.disabled)}t.style.gridTemplateAreas=`"${this._gridColumns}"`}_grid(){this._gridColumns="";const t=[],e=[],s=[],i=document.createElement("div"),a=this._context._display._iconTag(this._context._options.display.icons.up),o=this._context._display._iconTag(this._context._options.display.icons.down);i.classList.add(Namespace.css.separator,Namespace.css.noHighlight);const c=i.cloneNode(!0);c.innerHTML=":";const r=(t=!1)=>t?c.cloneNode(!0):i.cloneNode(!0);if(this._context._options.display.components.hours){let i=document.createElement("div");i.setAttribute("title",this._context._options.localization.incrementHour),i.setAttribute("data-action",h.incrementHours),i.appendChild(a.cloneNode(!0)),t.push(i),i=document.createElement("div"),i.setAttribute("title",this._context._options.localization.pickHour),i.setAttribute("data-action",h.showHours),i.setAttribute("data-time-component",n.hours),e.push(i),i=document.createElement("div"),i.setAttribute("title",this._context._options.localization.decrementHour),i.setAttribute("data-action",h.decrementHours),i.appendChild(o.cloneNode(!0)),s.push(i),this._gridColumns+="a"}if(this._context._options.display.components.minutes){this._gridColumns+=" a",this._context._options.display.components.hours&&(t.push(r()),e.push(r(!0)),s.push(r()),this._gridColumns+=" a");let i=document.createElement("div");i.setAttribute("title",this._context._options.localization.incrementMinute),i.setAttribute("data-action",h.incrementMinutes),i.appendChild(a.cloneNode(!0)),t.push(i),i=document.createElement("div"),i.setAttribute("title",this._context._options.localization.pickMinute),i.setAttribute("data-action",h.showMinutes),i.setAttribute("data-time-component",n.minutes),e.push(i),i=document.createElement("div"),i.setAttribute("title",this._context._options.localization.decrementMinute),i.setAttribute("data-action",h.decrementMinutes),i.appendChild(o.cloneNode(!0)),s.push(i)}if(this._context._options.display.components.seconds){this._gridColumns+=" a",this._context._options.display.components.minutes&&(t.push(r()),e.push(r(!0)),s.push(r()),this._gridColumns+=" a");let i=document.createElement("div");i.setAttribute("title",this._context._options.localization.incrementSecond),i.setAttribute("data-action",h.incrementSeconds),i.appendChild(a.cloneNode(!0)),t.push(i),i=document.createElement("div"),i.setAttribute("title",this._context._options.localization.pickSecond),i.setAttribute("data-action",h.showSeconds),i.setAttribute("data-time-component",n.seconds),e.push(i),i=document.createElement("div"),i.setAttribute("title",this._context._options.localization.decrementSecond),i.setAttribute("data-action",h.decrementSeconds),i.appendChild(o.cloneNode(!0)),s.push(i)}if(!this._context._options.display.components.useTwentyfourHour){this._gridColumns+=" a";let i=r();t.push(i);let a=document.createElement("button");a.setAttribute("title",this._context._options.localization.toggleMeridiem),a.setAttribute("data-action",h.toggleMeridiem),a.setAttribute("tabindex","-1"),a.classList.add("btn","btn-primary"),i=document.createElement("div"),i.classList.add(Namespace.css.noHighlight),i.appendChild(a),e.push(i),i=r(),s.push(i)}return this._gridColumns=this._gridColumns.trim(),[...t,...e,...s]}}class HourDisplay{constructor(t){this._context=t}get _picker(){const t=document.createElement("div");t.classList.add(Namespace.css.hourContainer);for(let e=0;e<(this._context._options.display.components.useTwentyfourHour?24:12);e++){const e=document.createElement("div");e.setAttribute("data-action",h.selectHour),t.appendChild(e)}return t}_update(){const t=this._context._display.widget.getElementsByClassName(Namespace.css.hourContainer)[0];let e=this._context._viewDate.clone.startOf(n.date);t.querySelectorAll(`[data-action="${h.selectHour}"]`).forEach(((t,s)=>{let i=[];i.push(Namespace.css.hour),this._context._validation.isValid(e,n.hours)||i.push(Namespace.css.disabled),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",`${e.hours}`),t.innerText=this._context._options.display.components.useTwentyfourHour?e.hoursFormatted:e.twelveHoursFormatted,e.manipulate(1,n.hours)}))}}class MinuteDisplay{constructor(t){this._context=t}get _picker(){const t=document.createElement("div");t.classList.add(Namespace.css.minuteContainer);let e=1===this._context._options.stepping?5:this._context._options.stepping;for(let s=0;s<60/e;s++){const e=document.createElement("div");e.setAttribute("data-action",h.selectMinute),t.appendChild(e)}return t}_update(){const t=this._context._display.widget.getElementsByClassName(Namespace.css.minuteContainer)[0];let e=this._context._viewDate.clone.startOf(n.hours),s=1===this._context._options.stepping?5:this._context._options.stepping;t.querySelectorAll(`[data-action="${h.selectMinute}"]`).forEach(((t,i)=>{let a=[];a.push(Namespace.css.minute),this._context._validation.isValid(e,n.minutes)||a.push(Namespace.css.disabled),t.classList.remove(...t.classList),t.classList.add(...a),t.setAttribute("data-value",`${e.minutes}`),t.innerText=e.minutesFormatted,e.manipulate(s,n.minutes)}))}}class secondDisplay{constructor(t){this._context=t}get _picker(){const t=document.createElement("div");t.classList.add(Namespace.css.secondContainer);for(let e=0;e<12;e++){const e=document.createElement("div");e.setAttribute("data-action",h.selectSecond),t.appendChild(e)}return t}_update(){const t=this._context._display.widget.getElementsByClassName(Namespace.css.secondContainer)[0];let e=this._context._viewDate.clone.startOf(n.minutes);t.querySelectorAll(`[data-action="${h.selectSecond}"]`).forEach(((t,s)=>{let i=[];i.push(Namespace.css.second),this._context._validation.isValid(e,n.seconds)||i.push(Namespace.css.disabled),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",`${e.seconds}`),t.innerText=e.secondsFormatted,e.manipulate(5,n.seconds)}))}}class Display{constructor(t){this._isVisible=!1,this._documentClickEvent=t=>{var e;this._context._options.debug||window.debug||!this._isVisible||t.composedPath().includes(this.widget)||(null===(e=t.composedPath())||void 0===e?void 0:e.includes(this._context._element))||this.hide()},this._actionsClickEvent=t=>{this._context._action.do(t)},this._context=t,this._dateDisplay=new DateDisplay(t),this._monthDisplay=new MonthDisplay(t),this._yearDisplay=new YearDisplay(t),this._decadeDisplay=new DecadeDisplay(t),this._timeDisplay=new TimeDisplay(t),this._hourDisplay=new HourDisplay(t),this._minuteDisplay=new MinuteDisplay(t),this._secondDisplay=new secondDisplay(t),this._widget=void 0}get widget(){return this._widget}get isVisible(){return this._isVisible}_update(t){if(this.widget)switch(t){case n.seconds:this._secondDisplay._update();break;case n.minutes:this._minuteDisplay._update();break;case n.hours:this._hourDisplay._update();break;case n.date:this._dateDisplay._update();break;case n.month:this._monthDisplay._update();break;case n.year:this._yearDisplay._update();break;case"clock":this._timeDisplay._update(),this._update(n.hours),this._update(n.minutes),this._update(n.seconds);break;case"calendar":this._update(n.date),this._update(n.year),this._update(n.month),this._decadeDisplay._update(),this._updateCalendarHeader();break;case"all":this._hasTime&&this._update("clock"),this._hasDate&&this._update("calendar")}}show(){var t,s;if(null==this.widget){if(this._context._options.useCurrent&&!this._context._options.defaultDate&&!(null===(t=this._context._input)||void 0===t?void 0:t.value)){const t=(new DateTime).setLocale(this._context._options.localization.locale);if(!this._context._options.keepInvalid){let e=0,i=1;for((null===(s=this._context._options.restrictions.maxDate)||void 0===s?void 0:s.isBefore(t))&&(i=-1);!(this._context._validation.isValid(t)||(t.manipulate(i,n.date),e>31));)e++}this._context.dates._setValue(t)}this._context._options.defaultDate&&this._context.dates._setValue(this._context._options.defaultDate),this._buildWidget(),this._hasDate&&this._showMode(),this._context._options.display.inline?this._context._element.appendChild(this.widget):(document.body.appendChild(this.widget),this._popperInstance=e.createPopper(this._context._element,this.widget,{modifiers:[{name:"eventListeners",enabled:!0}],placement:"rtl"===document.documentElement.dir?"bottom-end":"bottom-start"})),"clock"==this._context._options.display.viewMode&&this._context._action.do({currentTarget:this.widget.querySelector(`.${Namespace.css.timeContainer}`)},h.showClock),this.widget.querySelectorAll("[data-action]").forEach((t=>t.addEventListener("click",this._actionsClickEvent))),this._context._options.display.sideBySide&&(this._timeDisplay._update(),this.widget.getElementsByClassName(Namespace.css.clockContainer)[0].style.display="grid")}this.widget.classList.add(Namespace.css.show),this._context._options.display.inline||(this._popperInstance.update(),document.addEventListener("click",this._documentClickEvent)),this._context._triggerEvent({type:Namespace.events.show}),this._isVisible=!0}_showMode(t){if(!this.widget)return;if(t){const e=Math.max(this._context._minViewModeNumber,Math.min(3,this._context._currentViewMode+t));if(this._context._currentViewMode==e)return;this._context._currentViewMode=e}this.widget.querySelectorAll(`.${Namespace.css.dateContainer} > div:not(.${Namespace.css.calendarHeader}), .${Namespace.css.timeContainer} > div:not(.${Namespace.css.clockContainer})`).forEach((t=>t.style.display="none"));const e=l[this._context._currentViewMode];let s=this.widget.querySelector(`.${e.className}`);switch(e.className){case Namespace.css.decadesContainer:this._decadeDisplay._update();break;case Namespace.css.yearsContainer:this._yearDisplay._update();break;case Namespace.css.monthsContainer:this._monthDisplay._update();break;case Namespace.css.daysContainer:this._dateDisplay._update()}s.style.display="grid",this._updateCalendarHeader()}_updateCalendarHeader(){const t=[...this.widget.querySelector(`.${Namespace.css.dateContainer} div[style*="display: grid"]`).classList].find((t=>t.startsWith(Namespace.css.dateContainer))),[e,s,i]=this._context._display.widget.getElementsByClassName(Namespace.css.calendarHeader)[0].getElementsByTagName("div");switch(t){case Namespace.css.decadesContainer:e.setAttribute("title",this._context._options.localization.previousCentury),s.setAttribute("title",""),i.setAttribute("title",this._context._options.localization.nextCentury);break;case Namespace.css.yearsContainer:e.setAttribute("title",this._context._options.localization.previousDecade),s.setAttribute("title",this._context._options.localization.selectDecade),i.setAttribute("title",this._context._options.localization.nextDecade);break;case Namespace.css.monthsContainer:e.setAttribute("title",this._context._options.localization.previousYear),s.setAttribute("title",this._context._options.localization.selectYear),i.setAttribute("title",this._context._options.localization.nextYear);break;case Namespace.css.daysContainer:e.setAttribute("title",this._context._options.localization.previousMonth),s.setAttribute("title",this._context._options.localization.selectMonth),i.setAttribute("title",this._context._options.localization.nextMonth),s.innerText=this._context._viewDate.format({month:this._context._options.localization.dayViewHeaderFormat})}s.innerText=s.getAttribute(t)}hide(){this.widget&&this._isVisible&&(this.widget.classList.remove(Namespace.css.show),this._isVisible&&(this._context._triggerEvent({type:Namespace.events.hide,date:this._context._unset?null:this._context.dates.lastPicked?this._context.dates.lastPicked.clone:void 0}),this._isVisible=!1),document.removeEventListener("click",this._documentClickEvent))}toggle(){return this._isVisible?this.hide():this.show()}_dispose(){document.removeEventListener("click",this._documentClickEvent),this.widget&&(this.widget.querySelectorAll("[data-action]").forEach((t=>t.removeEventListener("click",this._actionsClickEvent))),this.widget.parentNode.removeChild(this.widget),this._widget=void 0)}_buildWidget(){const t=document.createElement("div");t.classList.add(Namespace.css.widget);const e=document.createElement("div");e.classList.add(Namespace.css.dateContainer),e.append(this._headTemplate,this._decadeDisplay._picker,this._yearDisplay._picker,this._monthDisplay._picker,this._dateDisplay._picker);const s=document.createElement("div");s.classList.add(Namespace.css.timeContainer),s.appendChild(this._timeDisplay._picker),s.appendChild(this._hourDisplay._picker),s.appendChild(this._minuteDisplay._picker),s.appendChild(this._secondDisplay._picker);const i=document.createElement("div");if(i.classList.add(Namespace.css.toolbar),i.append(...this._toolbar),this._context._options.display.inline&&t.classList.add(Namespace.css.inline),this._context._options.display.calendarWeeks&&t.classList.add("calendarWeeks"),this._context._options.display.sideBySide&&this._hasDate&&this._hasTime){t.classList.add(Namespace.css.sideBySide),"top"===this._context._options.display.toolbarPlacement&&t.appendChild(i);const a=document.createElement("div");return a.classList.add("td-row"),e.classList.add("td-half"),s.classList.add("td-half"),a.appendChild(e),a.appendChild(s),t.appendChild(a),"bottom"===this._context._options.display.toolbarPlacement&&t.appendChild(i),void(this._widget=t)}"top"===this._context._options.display.toolbarPlacement&&t.appendChild(i),this._hasDate&&(this._hasTime&&(e.classList.add(Namespace.css.collapse),"clock"!==this._context._options.display.viewMode&&e.classList.add(Namespace.css.show)),t.appendChild(e)),this._hasTime&&(this._hasDate&&(s.classList.add(Namespace.css.collapse),"clock"===this._context._options.display.viewMode&&s.classList.add(Namespace.css.show)),t.appendChild(s)),"bottom"===this._context._options.display.toolbarPlacement&&t.appendChild(i);const a=document.createElement("div");a.classList.add("arrow"),a.setAttribute("data-popper-arrow",""),t.appendChild(a),this._widget=t}get _hasTime(){return this._context._options.display.components.clock&&(this._context._options.display.components.hours||this._context._options.display.components.minutes||this._context._options.display.components.seconds)}get _hasDate(){return this._context._options.display.components.calendar&&(this._context._options.display.components.year||this._context._options.display.components.month||this._context._options.display.components.date)}get _toolbar(){const t=[];if(this._context._options.display.buttons.today){const e=document.createElement("div");e.setAttribute("data-action",h.today),e.setAttribute("title",this._context._options.localization.today),e.appendChild(this._iconTag(this._context._options.display.icons.today)),t.push(e)}if(!this._context._options.display.sideBySide&&this._hasDate&&this._hasTime){let e,s;"clock"===this._context._options.display.viewMode?(e=this._context._options.localization.selectDate,s=this._context._options.display.icons.date):(e=this._context._options.localization.selectTime,s=this._context._options.display.icons.time);const i=document.createElement("div");i.setAttribute("data-action",h.togglePicker),i.setAttribute("title",e),i.appendChild(this._iconTag(s)),t.push(i)}if(this._context._options.display.buttons.clear){const e=document.createElement("div");e.setAttribute("data-action",h.clear),e.setAttribute("title",this._context._options.localization.clear),e.appendChild(this._iconTag(this._context._options.display.icons.clear)),t.push(e)}if(this._context._options.display.buttons.close){const e=document.createElement("div");e.setAttribute("data-action",h.close),e.setAttribute("title",this._context._options.localization.close),e.appendChild(this._iconTag(this._context._options.display.icons.close)),t.push(e)}return t}get _headTemplate(){const t=document.createElement("div");t.classList.add(Namespace.css.calendarHeader);const e=document.createElement("div");e.classList.add(Namespace.css.previous),e.setAttribute("data-action",h.previous),e.appendChild(this._iconTag(this._context._options.display.icons.previous));const s=document.createElement("div");s.classList.add(Namespace.css.switch),s.setAttribute("data-action",h.pickerSwitch);const i=document.createElement("div");return i.classList.add(Namespace.css.next),i.setAttribute("data-action",h.next),i.appendChild(this._iconTag(this._context._options.display.icons.next)),t.append(e,s,i),t}_iconTag(t){if("sprites"===this._context._options.display.icons.type){const e=document.createElement("svg");return e.innerHTML=`<use xlink:href='${t}'></use>`,e}const e=document.createElement("i");return DOMTokenList.prototype.add.apply(e.classList,t.split(" ")),e}_rebuild(){const t=this._isVisible;t&&this.hide(),this._dispose(),t&&this.show()}}class Validation{constructor(t){this._context=t}isValid(t,e){var s;if(this._context._options.restrictions.disabledDates.length>0&&this._isInDisabledDates(t))return!1;if(this._context._options.restrictions.enabledDates.length>0&&!this._isInEnabledDates(t))return!1;if((null===(s=this._context._options.restrictions.daysOfWeekDisabled)||void 0===s?void 0:s.length)>0&&-1!==this._context._options.restrictions.daysOfWeekDisabled.indexOf(t.weekDay))return!1;if(this._context._options.restrictions.minDate&&t.isBefore(this._context._options.restrictions.minDate,e))return!1;if(this._context._options.restrictions.maxDate&&t.isAfter(this._context._options.restrictions.maxDate,e))return!1;if(e===n.hours||e===n.minutes||e===n.seconds){if(this._context._options.restrictions.disabledHours.length>0&&this._isInDisabledHours(t))return!1;if(this._context._options.restrictions.enabledHours.length>0&&!this._isInEnabledHours(t))return!1;if(this._context._options.restrictions.disabledTimeIntervals.length>0)for(let e=0;e<this._context._options.restrictions.disabledTimeIntervals.length;e++)if(t.isBetween(this._context._options.restrictions.disabledTimeIntervals[e].from,this._context._options.restrictions.disabledTimeIntervals[e].to))return!1}return!0}_isInDisabledDates(t){if(!this._context._options.restrictions.disabledDates||0===this._context._options.restrictions.disabledDates.length)return!1;const e=t.format(Dates.getFormatByUnit(n.date));return this._context._options.restrictions.disabledDates.map((t=>t.format(Dates.getFormatByUnit(n.date)))).find((t=>t===e))}_isInEnabledDates(t){if(!this._context._options.restrictions.enabledDates||0===this._context._options.restrictions.enabledDates.length)return!0;const e=t.format(Dates.getFormatByUnit(n.date));return this._context._options.restrictions.enabledDates.map((t=>t.format(Dates.getFormatByUnit(n.date)))).find((t=>t===e))}_isInDisabledHours(t){if(!this._context._options.restrictions.disabledHours||0===this._context._options.restrictions.disabledHours.length)return!1;const e=t.hours;return this._context._options.restrictions.disabledHours.find((t=>t===e))}_isInEnabledHours(t){if(!this._context._options.restrictions.enabledHours||0===this._context._options.restrictions.enabledHours.length)return!0;const e=t.hours;return this._context._options.restrictions.enabledHours.find((t=>t===e))}}const p={__proto__:null,TempusDominus:class TempusDominus{constructor(t,e={}){this._currentViewMode=0,this._subscribers={},this._minViewModeNumber=0,this._isDisabled=!1,this._notifyChangeEventContext=0,this._viewDate=new DateTime,this._inputChangeEvent=()=>{const t=()=>{this.dates.lastPicked&&(this._viewDate=this.dates.lastPicked)},e=this._input.value;if(this._options.multipleDates)try{const s=e.split(this._options.multipleDatesSeparator);for(let t=0;t<s.length;t++)this._options.hooks.inputParse?this.dates.set(this._options.hooks.inputParse(this,s[t]),t,"input"):this.dates.set(s[t],t,"input");t()}catch(t){console.warn("TD: Something went wrong trying to set the multidate values from the input field.")}else this._options.hooks.inputParse?this.dates.set(this._options.hooks.inputParse(this,e),0,"input"):this.dates.set(e,0,"input"),t()},this._toggleClickEvent=()=>{this.toggle()},t||Namespace.errorMessages.mustProvideElement,this._element=t,this._options=this._initializeOptions(e,d,!0),this._viewDate.setLocale(this._options.localization.locale),this._unset=!0,this._display=new Display(this),this._validation=new Validation(this),this.dates=new Dates(this),this._action=new Actions(this),this._initializeInput(),this._initializeToggle(),this._options.display.inline&&this._display.show()}get viewDate(){return this._viewDate}updateOptions(t,e=!1){this._options=e?this._initializeOptions(t,d):this._initializeOptions(t,this._options),this._display._rebuild()}toggle(){this._isDisabled||this._display.toggle()}show(){this._isDisabled||this._display.show()}hide(){this._display.hide()}disable(){var t;this._isDisabled=!0,null===(t=this._input)||void 0===t||t.setAttribute("disabled","disabled"),this._display.hide()}enable(){var t;this._isDisabled=!1,null===(t=this._input)||void 0===t||t.removeAttribute("disabled")}clear(){this.dates.clear()}subscribe(t,e){"string"==typeof t&&(t=[t]);let s=[];s=Array.isArray(e)?e:[e],t.length!==s.length&&Namespace.errorMessages.subscribeMismatch;const i=[];for(let e=0;e<t.length;e++){const a=t[e];if(Array.isArray(this._subscribers[a])||(this._subscribers[a]=[]),this._subscribers[a].push(s[e]),i.push({unsubscribe:this._unsubscribe.bind(this,a,this._subscribers[a].length-1)}),1===t.length)return i[0]}return i}dispose(){var t,e;this._display.hide(),this._display._dispose(),null===(t=this._input)||void 0===t||t.removeEventListener("change",this._inputChangeEvent),this._options.allowInputToggle&&(null===(e=this._input)||void 0===e||e.removeEventListener("click",this._toggleClickEvent)),this._toggle.removeEventListener("click",this._toggleClickEvent),this._subscribers={}}_triggerEvent(t){if(t&&t.hasOwnProperty("date")){const{date:e,oldDate:s,isClear:i}=t;if(this._notifyChangeEventContext++,e&&s&&e.isSame(s)||!i&&!e&&!s||this._notifyChangeEventContext>1)return void(this._notifyChangeEventContext=0);this._handleAfterChangeEvent(t)}if(this._element.dispatchEvent(new CustomEvent(t.type,{detail:t})),window.jQuery){(0,window.jQuery)(this._element).trigger(t)}(()=>{Array.isArray(this._subscribers[t.type])&&this._subscribers[t.type].forEach((e=>{e(t)}))})(),this._notifyChangeEventContext=0}_viewUpdate(t){this._triggerEvent({type:Namespace.events.update,change:t,viewDate:this._viewDate.clone})}_unsubscribe(t,e){this._subscribers[t].splice(e,1)}_initializeOptions(t,e,s=!1){var i;if(t=OptionConverter._mergeOptions(t,e),s&&(t=OptionConverter._dataToOptions(this._element,t)),OptionConverter._validateConflcits(t),t.viewDate=t.viewDate.setLocale(t.localization.locale),this._viewDate.isSame(t.viewDate)||(this._viewDate=t.viewDate),t.display.components.year&&(this._minViewModeNumber=2),t.display.components.month&&(this._minViewModeNumber=1),t.display.components.date&&(this._minViewModeNumber=0),this._currentViewMode=Math.max(this._minViewModeNumber,this._currentViewMode),l[this._currentViewMode].name!==t.display.viewMode&&(this._currentViewMode=Math.max(l.findIndex((e=>e.name===t.display.viewMode)),this._minViewModeNumber)),void 0===t.hooks.inputFormat){const e=t.display.components;t.hooks.inputFormat=(s,i)=>t.display.format&&"string"==typeof t.display.format?i?c.DateTime.fromJSDate(i).setLocale(t.localization.locale).toFormat(t.display.format):"":i.format({year:e.calendar&&e.year?"numeric":void 0,month:e.calendar&&e.month?"2-digit":void 0,day:e.calendar&&e.date?"2-digit":void 0,hour:e.clock&&e.hours?e.useTwentyfourHour?"2-digit":"numeric":void 0,minute:e.clock&&e.minutes?"2-digit":void 0,second:e.clock&&e.seconds?"2-digit":void 0,hour12:!e.useTwentyfourHour})}return void 0===t.hooks.inputParse&&t.display.format&&"string"==typeof t.display.format&&(t.hooks.inputParse=(e,s)=>{let i=new Intl.NumberFormat(t.localization.locale).resolvedOptions().numberingSystem,a=new DateTime(c.DateTime.fromFormat(s,t.display.format,{locale:t.localization.locale,numberingSystem:i}).toJSDate());return a&&a.getTime()==a.getTime()?a.setLocale(t.localization.locale):s}),(null===(i=this._display)||void 0===i?void 0:i.isVisible)&&this._display._update("all"),t}_initializeInput(){if("INPUT"==this._element.tagName)this._input=this._element;else{let t=this._element.dataset.tdTargetInput;this._input=null==t||"nearest"==t?this._element.querySelector("input"):this._element.querySelector(t)}this._input&&(this._input.addEventListener("change",this._inputChangeEvent),this._options.allowInputToggle&&this._input.addEventListener("click",this._toggleClickEvent),this._input.value&&this._inputChangeEvent())}_initializeToggle(){if(this._options.display.inline)return;let t=this._element.dataset.tdTargetToggle;"nearest"==t&&(t='[data-td-toggle="datetimepicker"]'),this._toggle=null==t?this._element:this._element.querySelector(t),this._toggle.addEventListener("click",this._toggleClickEvent)}_handleAfterChangeEvent(t){var e,s;!this._options.promptTimeOnDateChange||this._options.display.inline||this._options.display.sideBySide||!this._display._hasTime||(null===(e=this._display.widget)||void 0===e?void 0:e.getElementsByClassName(Namespace.css.show)[0].classList.contains(Namespace.css.timeContainer))||!t.oldDate&&this._options.useCurrent||t.oldDate&&(null===(s=t.date)||void 0===s?void 0:s.isSame(t.oldDate))||(clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout((()=>{this._display.widget&&this._action.do({currentTarget:this._display.widget.querySelector(`.${Namespace.css.switch} div`)},h.togglePicker)}),this._options.promptTimeOnDateChangeTransitionDelay))}},Namespace:Namespace,DefaultOptions:d,DateTime:DateTime,get Unit(){return n},jQueryInterface:function(t,e){return 1===this.length?p.jQueryHandleThis(this,t,e):this.each((function(){p.jQueryHandleThis(this,t,e)}))},jQueryHandleThis:function(t,e,s){let i=o.default(t).data(p.Namespace.dataKey);if("object"==typeof e&&(e=o.default.extend({},p.DefaultOptions,e)),i||(i=new p.TempusDominus(o.default(t)[0],e),o.default(t).data(p.Namespace.dataKey,i)),"string"==typeof e){if(void 0===i[e])throw new Error(`No method named "${e}"`);if(void 0===s)return i[e]();{"date"===e&&(i.isDateUpdateThroughDateOptionFromClientCode=!0);const t=i[e](s);return i.isDateUpdateThroughDateOptionFromClientCode=!1,t}}},getSelectorFromElement:function(t){let e,s=t.data("target");return s||(s=t.attr("href")||"",s=/^#[a-z]/i.test(s)?s:null),e=o.default(s),0===e.length?t:(e.data(p.Namespace.dataKey)||o.default.extend({},e.data(),o.default(this).data()),e)}},u="tempusDominus";return o.default.fn[u]=p.jQueryInterface,o.default.fn[u].Constructor=p.TempusDominus,o.default.fn[u].noConflict=function(){return o.default.fn[u]=o.default.fn[u],p.jQueryInterface},p}(jQuery,Popper,luxon);
//# sourceMappingURL=tempus-dominus.min.js.map